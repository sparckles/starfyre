from .parent import parent
def mocked_request():
  return "fetched on the server"




async def handle_on_click(e):
  alert("click rendered on client")
  initial_value = use_signal(e)
  if 1==1:
    print("Hello world")

  set_signal(2)
  initial_value = use_signal(e)
  console.log("This is the initial value", initial_value)

  a = await fetch('https://jsonplaceholder.typicode.com/todos/1')
  console.log(await a.text())
  console.log("handles on click")
  
<style>
  body {
    background-color: red;
  }
</style>

<pyml>
  <parent hello='world'>
      <p onclick={handle_on_click}>{[ mocked_request() for i in range(4)]}</p>
  </parent>
</pyml>


<script>
// this is optional 
// as I don't know why someone would need it
</script>
